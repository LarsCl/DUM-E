#include <Wire.h>          // Library for I2C communication
#include <Adafruit_PCF8574.h>       // Library for PCF8574

Adafruit_PCF8574 pcf;

#define STEP_PIN 0         // PCF8574 pin 0
#define DIR_PIN 1          // PCF8574 pin 1
#define ENABLE_PIN 2       // PCF8574 pin 2 (optional, use if needed)

void setup() {
  Wire.begin();           // Start I2C communication
  pcf.begin(0x20);        // Start the PCF8574

  pcf.pinMode(STEP_PIN, OUTPUT);
  pcf.pinMode(DIR_PIN, OUTPUT);
  pcf.pinMode(ENABLE_PIN, OUTPUT);

  pcf.digitalWrite(ENABLE_PIN, LOW); // LOW to enable, HIGH to disable
}

void loop() {
//   pcf8574.digitalWrite(DIR_PIN, HIGH);
  
//   for (int i = 0; i < 1000; i++) {
//     pcf.digitalWrite(STEP_PIN, HIGH);
//     delayMicroseconds(1000);
//     pcf.digitalWrite(STEP_PIN, LOW);
//     delayMicroseconds(1000);
//   }

//   pcf.digitalWrite(DIR_PIN, LOW);
//   delay(1000);
}